
<!-- CSS (load bootstrap from a CDN) -->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>SMART HOME</title>

<!-- bootstrap css -->
<link rel="stylesheet" href="css/bootstrap.min.css">
<!-- fevicon -->
<link rel="icon" href="images/fevicon.png" type="image/gif" />


<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">


<!-- Bootstrap Core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">
<script src="js/jquery.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
 -->

<!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<script src = "http://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
 -->
<style>
.jumbotron {
  padding: 2rem 1rem;
  margin-bottom: 2rem;
  background-color: #e9ecef;
  border-radius: .3rem;
}
</style>
<script src="/socket.io/socket.io.js"></script>
 <script>
    $(document).ready(function(){
		var socket = io();
		
		
        socket.on('stateswitch1',function(msg){
            if(msg=='ON'){
				document.getElementById("lamp1").src = "images/LampuHidup.jpg";
			}
			else if(msg=='OFF'){
				document.getElementById("lamp1").src = "images/LampuMati.jpg";
			}
        });	
		
		socket.on('stateswitch2',function(msg){
            if(msg=='ON'){
				document.getElementById("lamp2").src = "images/LampuHidup.jpg";
			}
			else if(msg=='OFF'){
				document.getElementById("lamp2").src = "images/LampuMati.jpg";
			}
        });
		
		socket.on('stateswitch3',function(msg){
            if(msg=='ON'){
				document.getElementById("lamp3").src = "images/LampuHidup.jpg";
			}
			else if(msg=='OFF'){
				document.getElementById("lamp3").src = "images/LampuMati.jpg";
			}
        });
		
		
		$("#lampAll").click(function () {
		  var state=$('#lampAll').attr('value');
		  if(state==0){
		    socket.emit('switchall', 'ON');
			document.getElementById("lampAll").src = "images/LampuHidup.jpg";
			$('#lampAll').attr('value', 1);
		  }else{
		    socket.emit('switchall', 'OFF');
			document.getElementById("lampAll").src = "images/LampuMati.jpg";
			document.getElementById("lampAll").value=0;
			$('#lampAll').attr('value', 0);
		  }
		});
		
		$("#lamp1").click(function () {
		  var state=$('#lamp1').attr('value');
		  if(state==0){
		    socket.emit('switch1', 'ON');
			document.getElementById("lamp1").src = "images/LampuHidup.jpg";
			$('#lamp1').attr('value', 1);
		  }else{
		    socket.emit('switch1', 'OFF');
			document.getElementById("lamp1").src = "images/LampuMati.jpg";
			$('#lamp1').attr('value', 0);
		  }
		});
		
		$("#lamp2").click(function () {
		  var state=$('#lamp2').attr('value');
		  if(state==0){
		    socket.emit('switch2', 'ON');
			document.getElementById("lamp2").src = "images/LampuHidup.jpg";
			$('#lamp2').attr('value', 1);
		  }else{
		    socket.emit('switch2', 'OFF');
			document.getElementById("lamp2").src = "images/LampuMati.jpg";
			$('#lamp2').attr('value', 0);
		  }
		});
		
		$("#lamp3").click(function () {
		  var state=$('#lamp3').attr('value');
		  if(state==0){
		    socket.emit('switch3', 'ON');
			document.getElementById("lamp3").src = "images/LampuHidup.jpg";
			$('#lamp3').attr('value', 1);
		  }else{
		    socket.emit('switch3', 'OFF');
			document.getElementById("lamp3").src = "images/LampuMati.jpg";
			$('#lamp3').attr('value', 0);
		  }
		});
		
    });
    </script>